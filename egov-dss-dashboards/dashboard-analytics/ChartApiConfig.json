{
  "todaysVisits": {
    "chartName": "DSS_HEALTH_NATIONAL_HOUSEHOLDS_VISITED_TODAY",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Todays visits\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Count\": {\n          \"value_count\": {\n            \"field\": \"id\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "filterForCurrentDay": true,
    "action": "",
    "aggregationPaths": [
      "Todays visits"
    ],
    "insight": {
      "chartResponseMap": "todaysVisits",
      "action": "differenceOfNumbers",
      "upwardIndicator": "positive",
      "downwardIndicator": "negative",
      "textMessage": "$indicator$value% than last $insightInterval",
      "colorCode": "#228B22",
      "insightInterval": "day"
    },
    "_comment": " "
  },
  "totalVisits": {
    "chartName": "DSS_HEALTH_NATIONAL_TOTAL_HOUSEHOLD_VISITS",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\"aggs\":{\"Total visits\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"deliveredTo\":\"HOUSEHOLD\"}},{\"term\": {\"productVariant\": \"LLIN\"}},{\"range\":{\"createdTime\":{\"lte\":\"now\"}}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"id\"}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total visits"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "populationCoveredToday": {
    "chartName": "DSS_HEALTH_NATIONAL_POPULATION_COVERED_TODAY",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"Household\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"SUM\": {\n          \"sum\": {\n            \"field\": \"quantity\"\n          }\n        },\n        \"Population Covered Today\": {\n          \"bucket_script\": {\n            \"buckets_path\": {\n              \"sum\": \"SUM\"\n            },\n            \"script\": \"(params.sum) * 1.8\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "filterForCurrentDay": true,
    "action": "",
    "aggregationPaths": [
      "Population Covered Today"
    ],
    "insight": {
      "chartResponseMap": "populationCoveredToday",
      "action": "differenceOfNumbers",
      "upwardIndicator": "positive",
      "downwardIndicator": "negative",
      "textMessage": "$indicator$value% than last $insightInterval",
      "colorCode": "#228B22",
      "insightInterval": "day"
    },
    "_comment": " "
  },
  "totalPopulationCovered": {
    "chartName": "DSS_HEALTH_NATIONAL_TOTAL_POPULATION_COVERED",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"Household\": {\n            \"bool\": {\n              \"must\":[\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            },\n            {\n              \"range\" : {\n                \"createdTime\" : {\n                  \"lte\": \"now\"\n                }\n              }\n            }\n            ]\n            }\n          }\n        }\n      }, \n      \"aggs\": {\n        \"SUM\": {\n          \"sum\": {\n            \"field\": \"quantity\"\n          }\n        },\n        \"Total Population Covered\": {\n          \"bucket_script\": {\n            \"buckets_path\": {\n              \"sum\": \"SUM\"\n            },\n            \"script\": \"(params.sum) * 1.8\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Population Covered"
    ],
    "insight": {},
    "_comment": " "
  },
  "todayDistributions": {
    "chartName": "DSS_HEALTH_NATIONAL_BED_NETS_DISTRIBUTED_TODAY",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Today Distributions\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"distributions\": {\n          \"sum\": {\n            \"field\": \"quantity\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "filterForCurrentDay": true,
    "action": "",
    "aggregationPaths": [
      "Today Distributions"
    ],
    "insight": {
      "chartResponseMap": "todayDistributions",
      "action": "differenceOfNumbers",
      "upwardIndicator": "positive",
      "downwardIndicator": "negative",
      "textMessage": "$indicator$value% than last $insightInterval",
      "colorCode": "#228B22",
      "insightInterval": "day"
    },
    "_comment": " "
  },
  "totalDistributions": {
    "chartName": "DSS_HEALTH_NATIONAL_BED_NETS_DISTRIBUTED_TOTAL",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Total Distributions\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            },\n            {\n              \"range\": {\n                \"createdTime\": {\n                  \"lte\": \"now\"\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"distributions\": {\n          \"sum\": {\n            \"field\": \"quantity\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Distributions"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "householdVisitsWithinDateRange": {
    "chartName": "DSS_HEALTH_OVERVIEW_HOUSEHOLDS_VISITED_OVER_DATERANGE",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\"aggs\":{\"DateRange visits\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"deliveredTo\":\"HOUSEHOLD\"}},{\"term\":{\"productVariant\":\"LLIN\"}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"id\"}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "DateRange visits"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "householdVisitsTarget": {
    "chartName": "DSS_HEALTH_OVERVIEW_TARGET_HOUSEHOLD_VISITS",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filters\":{\"filters\":{\"Campaign Filter\":{\"bool\":{\"must\":[{\"term\":{\"targetType\":\"HOUSEHOLD\"}},{\"term\":{\"productVariant\":\"LLIN\"}}]}}}},\"aggs\":{\"Target per day\":{\"sum\":{\"field\":\"targetPerDay\"}},\"Target Households per Day\":{\"bucket_script\":{\"buckets_path\":{\"tpd\":\"Target per day\"},\"script\":\"(params.tpd)*365\"}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Target Households per Day"
    ],
    "postAggregationTheory": "repsonseToDifferenceOfDates",
    "insight": {
    },
    "_comment": " "
  },
  "totalHouseholdCoverage": {
    "chartName": "DSS_HEALTH_OVERVIEW_TOTAL_COVERAGE_HOUSEHOLD_VISITS",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\"aggs\":{\"Total visits\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"deliveredTo\":\"HOUSEHOLD\"}},{\"term\": {\"productVariant\": \"LLIN\"}},{\"range\":{\"createdTime\":{\"lte\":\"now\"}}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"id\"}}}}}}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filters\":{\"filters\":{\"Campaign Filter\":{\"bool\":{\"must\":[{\"term\":{\"targetType\":\"HOUSEHOLD\"}},{\"term\":{\"productVariant\":\"LLIN\"}}]}}}},\"aggs\":{\"Overall target\":{\"sum\":{\"field\":\"overallTarget\"}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "aggregationPaths": [
      "Total visits",
      "Overall target"
    ],
    "postAggregationTheory": "",
    "insight": {
    },
    "_comment": " "
  },
  "distributionsByRange": {
    "chartName": "DSS_HEALTH_NATIONAL_BED_NETS_DISTRIBUTED",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Distributions By Range\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"quantity\": {\n          \"sum\": {\n            \"field\": \"quantity\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Distributions By Range"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "totalDistributionsTillToday": {
    "chartName": "DSS_HEALTH_NATIONAL_TOTAL_BED_NETS_DISTRIBUTED_TILL_TODAY",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Total Distributions\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            },\n            {\n              \"range\": {\n                \"createdTime\": {\n                  \"lte\" : \"now\"                }\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"distributions\": {\n          \"sum\": {\n            \"field\": \"quantity\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Distributions"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "bednetsTarget": {
    "chartName": "DSS_HEALTH_NATIONAL_BED_NETS_TARGET",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n    \"aggs\":{\n        \"Bednets Target\":{\n          \"filters\":{\n            \"filters\": {\n              \"nets\":{\n                \"bool\":{\n                  \"must\": [\n                      {\n                        \"term\": {\n                            \"productVariant\": \"LLIN\"\n                        }\n                      },\n                      {\n                        \"term\": {\n                            \"targetType\": \"BEDNETS\"\n                        }\n                      }\n                    ]\n                }\n              }\n              \n            }\n            \n          },\n          \"aggs\":{\n            \"Target\": {\n              \"sum\":{\n                  \"field\": \"targetPerDay\"\n              }\n            },\n            \"Target by Range\": {\n              \"bucket_script\": {\n                \"buckets_path\": {\n                  \"target\": \"Target\"\n                },\n                \"script\": \"(params.target) * 365\"\n              }\n            }\n          }\n        }\n        \n    }\n}"
      }
    ],
    "chartType": "metric",
    "postAggregationTheory": "repsonseToDifferenceOfDates",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Target by Range"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "bednetsDistributionCoverage": {
    "chartName": "DSS_HEALTH_NATIONAL_BED_NETS_COVERAGE",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n    \"aggs\":{\n        \"Bednets Target\":{\n          \"filter\":{\n            \"bool\":{\n              \"must\": [\n                  {\n                    \"term\": {\n                        \"productVariant\": \"LLIN\"\n                    }\n                  },\n                  {\n                    \"term\": {\n                        \"targetType\": \"BEDNETS\"\n                    }\n                  }\n                ]\n            }\n          },\n          \"aggs\":{\n            \"target\": {\n              \"sum\":{\n                  \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n        \n    }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Total Distributions Coverage\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            },\n            {\n              \"range\": {\n                \"createdTime\": {\n                  \"lte\" : \"now\"                }\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"distributions\": {\n          \"sum\": {\n            \"field\": \"quantity\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "aggregationPaths": [
      "Total Distributions Coverage",
      "Bednets Target"
    ],
    "insight": {
      "chartResponseMap": "bednetsDistributionCoverage",
      "action": "differenceOfNumbers",
      "upwardIndicator": "positive",
      "downwardIndicator": "negative",
      "textMessage": "$indicator$value% than last $insightInterval",
      "colorCode": "#228B22",
      "insightInterval": "day"
    },
    "_comment": " "
  },
  "overviewPopulationCovered": {
    "chartName": "DSS_HEALTH_OVERVIEW_POPULATION_COVERED",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"Household\": {\n            \"bool\": {\n              \"must\":[\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            }\n            ]\n            }\n          }\n        }\n      }, \n      \"aggs\": {\n        \"SUM\": {\n          \"sum\": {\n            \"field\": \"quantity\"\n          }\n        },\n        \"Population Covered for Date range\": {\n          \"bucket_script\": {\n            \"buckets_path\": {\n              \"sum\": \"SUM\"\n            },\n            \"script\": \"(params.sum) * 1.8\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Population Covered for Date range"
    ],
    "insight": {},
    "_comment": " "
  },
  "overviewTotalPopulationCovered": {
    "chartName": "DSS_HEALTH_OVERVIEW_TOTAL_POPULATION_COVERED",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"Household\": {\n            \"bool\": {\n              \"must\":[\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            },\n            {\n              \"range\" : {\n                \"createdTime\" : {\n                  \"lte\": \"now\"\n                }\n              }\n            }\n            ]\n            }\n          }\n        }\n      }, \n      \"aggs\": {\n        \"SUM\": {\n          \"sum\": {\n            \"field\": \"quantity\"\n          }\n        },\n        \"Total Population Covered\": {\n          \"bucket_script\": {\n            \"buckets_path\": {\n              \"sum\": \"SUM\"\n            },\n            \"script\": \"(params.sum) * 1.8\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Population Covered"
    ],
    "insight": {},
    "_comment": " "
  },
  "overviewPopulationTargeted": {
    "chartName": "DSS_HEALTH_OVERVIEW_POPULATION_TARGETED",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"Campaign Filter\":{\n            \"bool\": {\n              \"must\" : [\n                {\n                  \"term\": {\n                    \"targetType\": \"INDIVIDUAL\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                }\n                ]\n            }\n          }\n        }\n        },\n      \"aggs\": {\n        \"Target per day\": {\n          \"sum\": {\n            \"field\": \"targetPerDay\"\n          }\n        },\n        \"Target Population per Day\": {\n          \"bucket_script\": {\n            \"buckets_path\": {\n              \"tpd\": \"Target per day\"\n            },\n            \"script\": \"(params.tpd) * 365\"\n          }\n        }\n      }\n      }\n    }\n  }"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Target Population per Day"
    ],
    "postAggregationTheory": "repsonseToDifferenceOfDates",
    "insight": {},
    "_comment": " "
  },
  "overviewPopulationCoverageAchieved": {
    "chartName": "`DSS_HEALTH_OVERVIEW_POPULATION_COVERAGE_ACHIEVED`",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"Household\": {\n            \"bool\": {\n              \"must\":[\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            },\n            {\n              \"range\" : {\n                \"createdTime\" : {\n                  \"lte\": \"now\"\n                }\n              }\n            }\n            ]\n            }\n          }\n        }\n      }, \n      \"aggs\": {\n        \"SUM\": {\n          \"sum\": {\n            \"field\": \"quantity\"\n          }\n        },\n        \"Population Covered till Today\": {\n          \"bucket_script\": {\n            \"buckets_path\": {\n              \"sum\": \"SUM\"\n            },\n            \"script\": \"(params.sum) * 1.8\"\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"Campaign Filter\":{\n            \"bool\": {\n              \"must\" : [\n                {\n                  \"term\": {\n                    \"targetType\": \"INDIVIDUAL\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                }\n                ]\n            }\n          }\n        }\n        },\n      \"aggs\": {\n        \"Overall Population Target\": {\n          \"sum\": {\n            \"field\": \"overallTarget\"\n          }\n        }\n      }\n      }\n    }\n  }"
      }
    ],
    "chartType": "metric",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "aggregationPaths": [
      "Population Covered till Today",
      "Overall Population Target"
    ],
    "insight": {
      "chartResponseMap": "provincialOrDistrictPopulationCoverageAchieved",
      "action": "differenceOfNumbers",
      "upwardIndicator": "positive",
      "downwardIndicator": "negative",
      "textMessage": "$indicator$value% than last $insightInterval",
      "colorCode": "#228B22",
      "insightInterval": "day"
    },
    "_comment": " "
  },
  "totalHouseholdsNotDelivered": {
    "chartName": "DSS_HEALTH_OVERVIEW_TOTAL_HOUSEHOLDS_NOT_DELIVERED",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"Total household not delivered\": {\n           \"bool\": {\n              \"must\":[\n              {\n                \"term\": {\n                  \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                  \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                  \"quantity\": 0                \n                }\n              },\n              {\n                \"term\": {\n                  \"isDelivered\": false\n                }\n              },\n              {\n                \"range\" : {\n                  \"createdTime\" : {\n                    \"lte\": \"now\"\n                  }\n                }\n              }\n            ],\n              \"must_not\": [\n              {\n                \"term\": {\n                    \"deliveryComment\": \"\" \n                  } \n              }\n            ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Not Delivered\": {\n          \"terms\": {\n            \"field\": \"deliveryComment\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "showLabel": true,
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Not Delivered"
    ],
    "insight": {},
    "_comment": " "
  },
  "rdTotalHouseholdsNotDeliveredChartProvince": {
    "chartName": "DSS_HEALTH_R_D_TOTAL_HOUSEHOLDS_NOT_DELIVERED_PROVINCE",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"Households not delivered\": {\n           \"bool\": {\n              \"must\":[\n              {\n                \"term\": {\n                  \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },{\n                \"term\": {\n                  \"quantity\": 0                }\n              },\n              {\n                \"term\": {\n                  \"isDelivered\": false\n                }\n              },\n              {\n                \"range\" : {\n                  \"createdTime\" : {\n                    \"lte\": \"now\"\n                  }\n                }\n              }\n            ],\n              \"must_not\": [\n              {\n                \"term\": {\n                    \"deliveryComment\": \"\" \n                  } \n              }\n            ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Province Level Not Delivered\": {\n          \"terms\": {\n            \"field\": \"district\",\n             \"order\": {\n              \"_key\": \"asc\"\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Province Level Not Delivered"
    ],
    "insight": {},
    "_comment": " "
  },
  "rdTotalHouseholdsNotDeliveredChartDistrict": {
    "chartName": "DSS_HEALTH_R_D_HOUSEHOLDS_NOT_DELIVERED_DISTRICT",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"Households not delivered\": {\n           \"bool\": {\n              \"must\":[\n              {\n                \"term\": {\n                  \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },{\n                \"term\": {\n                  \"quantity\": 0                }\n              },\n              {\n                \"term\": {\n                  \"isDelivered\": false\n                }\n              },\n              {\n                \"range\" : {\n                  \"createdTime\" : {\n                    \"lte\": \"now\"\n                  }\n                }\n              }\n            ],\n              \"must_not\": [\n              {\n                \"term\": {\n                    \"deliveryComment\": \"\" \n                  } \n              }\n            ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"District Level Not Delivered\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\",\n             \"order\": {\n              \"_key\": \"asc\"\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "District Level Not Delivered"
    ],
    "insight": {},
    "_comment": " "
  },
  "rdBednetsDistributedChartProvince": {
    "chartName": "DSS_HEALTH_R_D_BEDNETS_DISTRIBUTED_PROVINCE",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\":  {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                  {\n                  \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"isDelivered\": true\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                    }\n                  },\n                  {\n                    \"range\": {\n                      \"createdTime\": {\n                        \"lte\": \"now\"\n                      }\n                    }\n                  }\n                ],\n              \"must_not\": [\n                  {\n                  \"term\": {\n                    \"quantity\": 0\n                    }\n                  }\n                ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Total No. of Bednets Distributed\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"district\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"SUM\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total No. of Bednets Distributed"
    ],
    "insight": { },
    "_comment": " "
  },
  "rdBednetsDistributedChartProvincePercent": {
    "chartName": "DSS_HEALTH_R_D_BEDNETS_DISTRIBUTED_PROVINCE_PERCENT",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\":  {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                  {\n                  \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"isDelivered\": true\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                    }\n                  },\n                  {\n                    \"range\": {\n                      \"createdTime\": {\n                        \"lte\": \"now\"\n                      }\n                    }\n                  }\n                ],\n              \"must_not\": [\n                  {\n                  \"term\": {\n                    \"quantity\": 0\n                    }\n                  }\n                ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Percentage of Bednets Distributed\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"district\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"Distributed\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\":  {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                  {\n                  \"term\": {\n                    \"targetType\": \"PRODUCT\"\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"administrativeProvince\": \"\"\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                    }\n                  }\n                ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Bednets Targeted\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"district\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"TPD\": {\n              \"sum\": {\n                \"script\": {\n                 \"source\": \"doc['targetPerDay'].value * 365\" \n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "aggregationPaths": ["Percentage of Bednets Distributed","Bednets Targeted"],
    "computedFields": [
      {
        "postAggregationTheory" : "repsonseToDifferenceOfDates",
        "actionName": "",
        "fields" : [ "TPD" ],
        "newField" : "Percentage Bednets",
        "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
      }
    ],
    "insight": { },
    "_comment": " "
  },
  "rdBednetsDistributedChartDistrict": {
    "chartName": "DSS_HEALTH_R_D_BEDNETS_DISTRIBUTED_DISTRICT",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\":  {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                  {\n                  \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"isDelivered\": true\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                    }\n                  },\n                  {\n                    \"range\": {\n                      \"createdTime\": {\n                        \"lte\": \"now\"\n                      }\n                    }\n                  }\n                ],\n              \"must_not\": [\n                  {\n                  \"term\": {\n                    \"quantity\": 0\n                    }\n                  }\n                ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Total No. of Bednets Distributed\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"administrativeProvince\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"SUM\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total No. of Bednets Distributed"
    ],
    "insight": { },
    "_comment": " "
  },
  "rdBednetsDistributedChartDistrictPercent": {
    "chartName": "DSS_HEALTH_R_D_BEDNETS_DISTRIBUTED_DISTRICT_PERCENT",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\":  {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                  {\n                  \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"isDelivered\": true\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                    }\n                  },\n                  {\n                    \"range\": {\n                      \"createdTime\": {\n                        \"lte\": \"now\"\n                      }\n                    }\n                  }\n                ],\n              \"must_not\": [\n                  {\n                  \"term\": {\n                    \"quantity\": 0\n                    }\n                  }\n                ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Percentage of Bednets Distributed\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"administrativeProvince\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"SUM\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{ \n  \"aggs\": {\n    \"AGGR\":  {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                  {\n                  \"term\": {\n                    \"targetType\": \"PRODUCT\"\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                    }\n                  },\n                  {\n                  \"term\": {\n                    \"locality\": \"\"\n                    }\n                  }\n                ],\n              \"must_not\": [\n                  {\n                    \"term\": {\n                      \"administrativeProvince\": \"\"\n                    }\n                  }\n                ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Bednets Targeted\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"administrativeProvince\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"TPD\": {\n              \"sum\": {\n                \"script\": {\n                 \"source\": \"doc['targetPerDay'].value * 365\" \n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "aggregationPaths": ["Percentage of Bednets Distributed","Bednets Targeted"],
    "computedFields": [
      {
        "postAggregationTheory" : "repsonseToDifferenceOfDates",
        "actionName": "",
        "fields" : [ "TPD" ],
        "newField" : "Percentage Bednets",
        "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
      }
    ],
    "insight": { },
    "_comment": " "
  },
  "rdPopulationChartProvince": {
    "chartName": "DSS_HEALTH_R_D_POPULATION_COVERED_PROVINCE",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"isDelivered\": true\n                  }\n                },\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                },\n                {\n                  \"range\": {\n                    \"createdTime\": {\n                      \"lte\": \"now\"\n                    }\n                  }\n                }\n              ],\n              \"must_not\": [\n                {\n                  \"term\": {\n                    \"quantity\": 0\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Total Population Covered\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"district\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"SUM\": {\n              \"sum\": {\n                \"script\": {\n                  \"source\": \"doc['quantity'].value * 1.8\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Population Covered"
    ],
    "insight": { },
    "_comment": " "
  },
  "rdPopulationChartProvincePercent": {
    "chartName": "DSS_HEALTH_R_D_POPULATION_COVERED_PROVINCE_PERCENT",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"isDelivered\": true\n                  }\n                },\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                },\n                {\n                  \"range\": {\n                    \"createdTime\": {\n                      \"lte\": \"now\"\n                    }\n                  }\n                }\n              ],\n              \"must_not\": [\n                {\n                  \"term\": {\n                    \"quantity\": 0\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Percentage of Population Covered\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"district\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"SUM\": {\n              \"sum\": {\n                \"script\": {\n                  \"source\": \"doc['quantity'].value * 1.8\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"term\": {\n                    \"targetType\": \"INDIVIDUAL\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"administrativeProvince\": \"\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Population Targeted\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"district\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"TPD\": {\n              \"sum\": {\n                \"script\": {\n                  \"source\": \"doc['targetPerDay'].value * 365\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }

    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "aggregationPaths": ["Percentage of Population Covered","Population Targeted"],
    "computedFields": [
      {
        "postAggregationTheory" : "repsonseToDifferenceOfDates",
        "actionName": "",
        "fields" : [ "TPD" ],
        "newField" : "Percentage Covered",
        "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
      }
    ],
    "insight": { },
    "_comment": " "
  },
  "rdPopulationChartDistrict": {
    "chartName": "DSS_HEALTH_R_D_POPULATION_COVERED_DISTRICT",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"isDelivered\": true\n                  }\n                },\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                },\n                {\n                  \"range\": {\n                    \"createdTime\": {\n                      \"lte\": \"now\"\n                    }\n                  }\n                }\n              ],\n              \"must_not\": [\n                {\n                  \"term\": {\n                    \"quantity\": 0\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Total Population Covered\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"administrativeProvince\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"SUM\": {\n              \"sum\": {\n                \"script\": {\n                  \"source\": \"doc['quantity'].value * 1.8\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Population Covered"
    ],
    "insight": { },
    "_comment": " "
  },
  "rdPopulationChartDistrictPercent": {
    "chartName": "DSS_HEALTH_R_D_POPULATION_COVERED_DISTRICT_PERCENT",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"isDelivered\": true\n                  }\n                },\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                },\n                {\n                  \"range\": {\n                    \"createdTime\": {\n                      \"lte\": \"now\"\n                    }\n                  }\n                }\n              ],\n              \"must_not\": [\n                {\n                  \"term\": {\n                    \"quantity\": 0\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Percentage of Population Covered\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"administrativeProvince\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"SUM\": {\n              \"sum\": {\n                \"script\": {\n                  \"source\": \"doc['quantity'].value * 1.8\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"term\": {\n                    \"targetType\": \"INDIVIDUAL\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"locality\": \"\"\n                  }\n                }\n              ],\n              \"must_not\": [\n                {\n                  \"term\": {\n                    \"administrativeProvince\": \"\"\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Population Targeted\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"administrativeProvince\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"TPD\": {\n              \"sum\": {\n                \"script\": {\n                  \"source\": \"doc['targetPerDay'].value * 365\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }

    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "aggregationPaths": ["Percentage of Population Covered","Population Targeted"],
    "computedFields": [
      {
        "postAggregationTheory" : "repsonseToDifferenceOfDates",
        "actionName": "",
        "fields" : [ "TPD" ],
        "newField" : "Percentage Covered",
        "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
      }
    ],
    "insight": { },
    "_comment": " "
  },
  "daysInventoryStockLastsProvince": {
    "chartName": "DSS_HEALTH_OVERVIEW_DAYS_INVENTORY_CAN_LAST_PROVINCE",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "stock-event-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"term\": {\n                    \"administrativeProvince\": \"\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                }\n              ],\n              \"must_not\": [\n                {\n                  \"term\": {\n                    \"district\": \"\"\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"No. of Days Stock Can Last\": {\n          \"terms\": {\n            \"size\": 500,\n            \"field\": \"district\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"Incoming Stock\": {\n              \"filter\": {\n                \"term\": {\n                  \"eventType\": \"INCOMING\"\n                }\n              },\n              \"aggs\": {\n                \"SUM\": {\n                  \"sum\": {\n                    \"field\": \"physicalCount\"\n                  }\n                }\n              }\n            },\n            \"Outgoing Stock\": {\n              \"filter\": {\n                \"term\": {\n                  \"eventType\": \"OUTGOING\"\n                }\n              },\n              \"aggs\": {\n                \"SUM\": {\n                  \"sum\": {\n                    \"field\": \"physicalCount\"\n                  }\n                }\n              }\n            },\n            \"Total Stock\": {\n              \"bucket_script\": {\n                \"buckets_path\": {\n                  \"IS\": \"Incoming Stock>SUM\",\n                  \"OS\": \"Outgoing Stock>SUM\"\n                },\n                \"script\": \"params.IS-params.OS\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"term\": {\n                    \"targetType\": \"PRODUCT\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"administrativeProvince\": \"\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                }\n              ],\n              \"must_not\": [\n                {\n                  \"term\": {\n                    \"district\": \"\"\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Target Per Day\": {\n          \"terms\": {\n            \"size\": 500,\n            \"field\": \"district\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"SUM\": {\n              \"sum\": {\n                \"field\": \"targetPerDay\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "division",
    "aggregationPaths": ["No. of Days Stock Can Last", "Target Per Day"],
    "insight": { },
    "_comment": " "
  },
  "daysInventoryStockLastsDistrict": {
    "chartName": "DSS_HEALTH_OVERVIEW_DAYS_INVENTORY_CAN_LAST_DISTRICT",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "stock-event-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"term\": {\n                    \"productVariant\": \"LLIN\"\n                  }\n                },\n                {\n                  \"term\": {\n                    \"locality\": \"\"\n                  }\n                }\n              ],\n              \"must_not\": [\n                {\n                  \"term\": {\n                    \"administrativeProvince\": \"\"\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"No. of Days Stock Can Last\": {\n          \"terms\": {\n            \"size\": 500,\n            \"field\": \"administrativeProvince\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"Incoming Stock\": {\n              \"filter\": {\n                \"term\": {\n                  \"eventType\": \"INCOMING\"\n                }\n              },\n              \"aggs\": {\n                \"SUM\": {\n                  \"sum\": {\n                    \"field\": \"physicalCount\"\n                  }\n                }\n              }\n            },\n            \"Outgoing Stock\": {\n              \"filter\": {\n                \"term\": {\n                  \"eventType\": \"OUTGOING\"\n                }\n              },\n              \"aggs\": {\n                \"SUM\": {\n                  \"sum\": {\n                    \"field\": \"physicalCount\"\n                  }\n                }\n              }\n            },\n            \"Total Stock\": {\n              \"bucket_script\": {\n                \"buckets_path\": {\n                  \"IS\": \"Incoming Stock>SUM\",\n                  \"OS\": \"Outgoing Stock>SUM\"\n                },\n                \"script\": \"params.IS-params.OS\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filters\": {\n        \"filters\": {\n          \"FILTERS\": {\n            \"bool\": {\n              \"must\":[\n                  {\n                    \"term\": {\n                      \"targetType\": \"PRODUCT\"\n                    }\n                  },\n                  {\n                    \"term\": {\n                      \"productVariant\": \"LLIN\"\n                    }\n                  }\n                ],\n                \"must_not\": [\n                    {\n                    \"term\": {\n                      \"administrativeProvince\": \"\"\n                    }\n                  }\n                  ]\n            }\n          }\n        }\n      },\n      \"aggs\": {\n        \"Target Per Day\": {\n          \"terms\": {\n            \"size\": 500, \n            \"field\": \"administrativeProvince\",\n             \"order\": {\n              \"_key\": \"asc\"\n            }\n          }, \n          \"aggs\": {\n            \"SUM\": {\n              \"sum\": {\n                \"field\": \"targetPerDay\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "division",
    "aggregationPaths": ["No. of Days Stock Can Last", "Target Per Day"],
    "insight": { },
    "_comment": " "
  },
  "householdsCoverageBarchartByDistrict":{
    "chartName": "DSS_HEALTH_HOUSEHOLDS_COVERAGE_BAR_CHART_BY_DISTRICT",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            },\n            {\n              \"range\": {\n                \"createdTime\": {\n                  \"lte\": \"now\"\n                }\n              }\n            }\n          ],\n          \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Households Percentage\": {\n          \"terms\": {\n            \"field\": \"district\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"Count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"targetType\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            }\n          ],\n          \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Households Target\": {\n          \"terms\": {\n            \"field\": \"district\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"Target Households\": {\n              \"sum\": {\n                \"field\": \"targetPerDay\"\n              }\n              \n            },\n            \"Target\": {\n                \"bucket_script\": {\n                  \"buckets_path\": {\n                    \"tpd\": \"Target Households\"\n                  },\n                  \"script\": \"(params.tpd)*365\"\n                }\n              }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "excludedColumns": ["Households Percentage","Households Target"],
    "aggregationPaths": ["Households Percentage","Households Target"],
    "computedFields": [
      {
        "postAggregationTheory" : "repsonseToDifferenceOfDates",
        "actionName": "",
        "fields" : ["Target"],
        "newField" : "Coverage",
        "_comments": ""
      }
    ],
    "insight": { },
    "_comment": " "
  },
  "householdsCoverageBarchartByAP":{
    "chartName": "DSS_HEALTH_HOUSEHOLDS_COVERAGE_BAR_CHART_BY_AP",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            },\n            {\n              \"range\": {\n                \"createdTime\": {\n                  \"lte\": \"now\"\n                }\n              }\n            }\n          ],\n          \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Households Percentage\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"Count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\": \"province\", \"district\": \"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"targetType\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"productVariant\": \"LLIN\"\n              }\n            }\n          ],\n          \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Households Target\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\",\n            \"order\": {\n              \"_key\": \"asc\"\n            }\n          },\n          \"aggs\": {\n            \"Target Households\": {\n              \"sum\": {\n                \"field\": \"targetPerDay\"\n              }\n              \n            },\n            \"Target\": {\n                \"bucket_script\": {\n                  \"buckets_path\": {\n                    \"tpd\": \"Target Households\"\n                  },\n                  \"script\": \"(params.tpd)*365\"\n                }\n              }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "isCumulative": false,
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "excludedColumns": ["Households Percentage","Households Target"],
    "aggregationPaths": ["Households Percentage","Households Target"],
    "computedFields": [
      {
        "postAggregationTheory" : "repsonseToDifferenceOfDates",
        "actionName": "",
        "fields" : ["Target"],
        "newField" : "Coverage",
        "_comments": ""
      }
    ],
    "insight": { },
    "_comment": " "
  },
  "summaryByDistrict": {
    "chartName": "DSS_HEALTH_SUMMARY_BY_DISTRICT",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"HOUSEHOLD\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Target\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Overall Household target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Total\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Total Households distributed\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"BEDNETS\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Target\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Overall Bednets target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Total\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Total Bednets distributed\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"INDIVIDUAL\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Target\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Overall Population target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Total\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Quantity\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            },\n            \"Total Population covered\":{\n              \"bucket_script\": {\n                \"buckets_path\": {\n                  \"target\": \"Quantity\"\n                },\n                \"script\": \"params.target * 1.8\"\n              }\n            }\n          }\n          \n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Total\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Households distributed count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Total\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Quantity\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            },\n            \"Population covered count\":{\n              \"bucket_script\": {\n                \"buckets_path\": {\n                  \"target\": \"Quantity\"\n                },\n                \"script\": \"params.target * 1.8\"\n              }\n            }\n          }\n          \n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Total\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Bednets distributed count\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"REJECTED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Household Rejected delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"RELOCATED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Household Relocated delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"CLOSED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"district\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"district\"\n          },\n          \"aggs\": {\n            \"Household Closed delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "filterKeys": [
      {"key": "district", "column": "District"}
    ],
    "chartType": "xtable",
    "valueType": "number",

    "drillChart": "summaryByAdministrativeProvince",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "District",
    "excludedColumns": ["Household Closed delivery count","Household Relocated delivery count","Household Rejected delivery count","Bednets distributed count","Population covered count","Households distributed count","Quantity","Total Households distributed","Overall Household target","Total Population covered","Overall Population target","Total Bednets distributed","Overall Bednets target"],

    "computedFields": [
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Households distributed","Overall Household target"],
        "newField" : "Target Achievement Household",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Population covered","Overall Population target"],
        "newField" : "Target Achievement Population",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Bednets distributed","Overall Bednets target"],
        "newField" : "Target Achievement Bednets",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Households distributed count"],
        "newField" : "Households distributed",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Population covered count"],
        "newField" : "Population covered",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Bednets distributed count"],
        "newField" : "Bednets distributed",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Rejected delivery count"],
        "newField" : "Non Delivery HH Rejected",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Relocated delivery count"],
        "newField" : "Non Delivery HH Relocated",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Closed delivery count"],
        "newField" : "Non Delivery HH Closed",
        "_comments": ""
      }
    ],
    "insight": {
    },
    "_comment": " "
  },
  "summaryByAdministrativeProvince": {
    "kind": "drillDown",
    "chartName": "DSS_HEALTH_SUMMARY_BY_ADMINISTRATIVE_PROVINCE",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"HOUSEHOLD\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Target\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Overall Household target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Total\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Total Households distributed\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"BEDNETS\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Target\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Overall Bednets target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Total\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Total Bednets distributed\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"INDIVIDUAL\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Target\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Overall Population target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Total\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Quantity\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            },\n            \"Total Population covered\":{\n              \"bucket_script\": {\n                \"buckets_path\": {\n                  \"target\": \"Quantity\"\n                },\n                \"script\": \"params.target * 1.8\"\n              }\n            }\n          }\n          \n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Total\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Households distributed count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Total\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Quantity\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            },\n            \"Population covered count\":{\n              \"bucket_script\": {\n                \"buckets_path\": {\n                  \"target\": \"Quantity\"\n                },\n                \"script\": \"params.target * 1.8\"\n              }\n            }\n          }\n          \n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Total\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Bednets distributed count\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"REJECTED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Household Rejected delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"RELOCATED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Household Relocated delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"CLOSED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"administrativeProvince\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"administrativeProvince\"\n          },\n          \"aggs\": {\n            \"Household Closed delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "filterKeys": [
      {"key": "administrativeProvince", "column": "AdministrativeProvince"}
    ],
    "chartType": "xtable",
    "valueType": "number",
    "drillChart": "summaryByLocality",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "AdministrativeProvince",
    "excludedColumns": ["Household Closed delivery count","Household Relocated delivery count","Household Rejected delivery count","Bednets distributed count","Population covered count","Households distributed count","Quantity","Total Households distributed","Overall Household target","Total Population covered","Overall Population target","Total Bednets distributed","Overall Bednets target"],

    "computedFields": [
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Households distributed","Overall Household target"],
        "newField" : "Target Achievement Household",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Population covered","Overall Population target"],
        "newField" : "Target Achievement Population",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Bednets distributed","Overall Bednets target"],
        "newField" : "Target Achievement Bednets",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Households distributed count"],
        "newField" : "Households distributed",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Population covered count"],
        "newField" : "Population covered",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Bednets distributed count"],
        "newField" : "Bednets distributed",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Rejected delivery count"],
        "newField" : "Non Delivery HH Rejected",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Relocated delivery count"],
        "newField" : "Non Delivery HH Relocated",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Closed delivery count"],
        "newField" : "Non Delivery HH Closed",
        "_comments": ""
      }
    ],
    "insight": {
    },
    "_comment": " "
  },
  "summaryByLocality": {
    "kind": "drillDown",
    "chartName": "DSS_HEALTH_SUMMARY_BY_LOCALITY",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"HOUSEHOLD\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Target\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Overall Household target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Total\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Total Households distributed\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"BEDNETS\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Target\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Overall Bednets target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Total\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Total Bednets distributed\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"INDIVIDUAL\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Target\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Overall Population target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Total\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Quantity\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            },\n            \"Total Population covered\":{\n              \"bucket_script\": {\n                \"buckets_path\": {\n                  \"target\": \"Quantity\"\n                },\n                \"script\": \"params.target * 1.8\"\n              }\n            }\n          }\n          \n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Total\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Households distributed count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Total\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Quantity\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            },\n            \"Population covered count\":{\n              \"bucket_script\": {\n                \"buckets_path\": {\n                  \"target\": \"Quantity\"\n                },\n                \"script\": \"params.target * 1.8\"\n              }\n            }\n          }\n          \n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Total\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Bednets distributed count\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"REJECTED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Household Rejected delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"RELOCATED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Household Relocated delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"CLOSED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"locality\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"locality\"\n          },\n          \"aggs\": {\n            \"Household Closed delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "filterKeys": [
      {"key": "locality", "column": "Locality"}
    ],
    "chartType": "xtable",
    "valueType": "number",
    "drillChart": "summaryByVillage",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Locality",
    "excludedColumns": ["Household Closed delivery count","Household Relocated delivery count","Household Rejected delivery count","Bednets distributed count","Population covered count","Households distributed count","Quantity","Total Households distributed","Overall Household target","Total Population covered","Overall Population target","Total Bednets distributed","Overall Bednets target"],

    "computedFields": [
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Households distributed","Overall Household target"],
        "newField" : "Target Achievement Household",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Population covered","Overall Population target"],
        "newField" : "Target Achievement Population",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Bednets distributed","Overall Bednets target"],
        "newField" : "Target Achievement Bednets",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Households distributed count"],
        "newField" : "Households distributed",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Population covered count"],
        "newField" : "Population covered",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Bednets distributed count"],
        "newField" : "Bednets distributed",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Rejected delivery count"],
        "newField" : "Non Delivery HH Rejected",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Relocated delivery count"],
        "newField" : "Non Delivery HH Relocated",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Closed delivery count"],
        "newField" : "Non Delivery HH Closed",
        "_comments": ""
      }
    ],
    "insight": {
    },
    "_comment": " "
  },
  "summaryByVillage": {
    "kind": "drillDown",
    "chartName": "DSS_HEALTH_SUMMARY_BY_VILLAGE",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"HOUSEHOLD\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Target\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Overall Household target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Total\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Total Households distributed\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"BEDNETS\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Target\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Overall Bednets target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Total\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Total Bednets distributed\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "micro-plan-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"targetType\": \"INDIVIDUAL\"\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Target\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Overall Population target\": {\n              \"sum\": {\n                \"field\": \"overallTarget\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Total\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Quantity\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            },\n            \"Total Population covered\":{\n              \"bucket_script\": {\n                \"buckets_path\": {\n                  \"target\": \"Quantity\"\n                },\n                \"script\": \"params.target * 1.8\"\n              }\n            }\n          }\n          \n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Household Total\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Households distributed count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Population Total\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Quantity\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            },\n            \"Population covered count\":{\n              \"bucket_script\": {\n                \"buckets_path\": {\n                  \"target\": \"Quantity\"\n                },\n                \"script\": \"params.target * 1.8\"\n              }\n            }\n          }\n          \n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGS\": {\n      \"filter\": {\n        \"bool\":{\n          \"must\": [\n              {\n                \"term\": {\n                    \"productVariant\": \"LLIN\"\n                }\n              },\n              {\n                \"term\": {\n                    \"deliveredTo\": \"HOUSEHOLD\"\n                }\n              },\n              {\n                \"term\": {\n                    \"isDelivered\": true\n                }\n              }\n              \n            ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bednets Total\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Bednets distributed count\": {\n              \"sum\": {\n                \"field\": \"quantity\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"REJECTED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Household Rejected delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"RELOCATED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Household Relocated delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "createdTime",
        "requestQueryMap": "{\"province\":\"province\",\"district\":\"district\",\"administrativeProvince\":\"administrativeProvince\",\"locality\":\"locality\"}",
        "indexName": "project-task-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"deliveredTo\": \"HOUSEHOLD\"\n              }\n            },\n            {\n              \"term\": {\n                \"quantity\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"isDelivered\": false\n              }\n            },\n            {\n              \"term\": {\n                \"deliveryComment\": \"CLOSED\"\n              }\n            }\n          ],\n            \"must_not\":[\n            {\n              \"term\": {\n                \"village\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"household count\": {\n          \"terms\": {\n            \"field\": \"village\"\n          },\n          \"aggs\": {\n            \"Household Closed delivery count\": {\n              \"value_count\": {\n                \"field\": \"id\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],

    "chartType": "xtable",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Village",
    "excludedColumns": ["Household Closed delivery count","Household Relocated delivery count","Household Rejected delivery count","Bednets distributed count","Population covered count","Households distributed count","Quantity","Total Households distributed","Overall Household target","Total Population covered","Overall Population target","Total Bednets distributed","Overall Bednets target"],

    "computedFields": [
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Households distributed","Overall Household target"],
        "newField" : "Target Achievement Household",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Population covered","Overall Population target"],
        "newField" : "Target Achievement Population",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "PercentageComputedField",
        "fields" : ["Total Bednets distributed","Overall Bednets target"],
        "newField" : "Target Achievement Bednets",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Households distributed count"],
        "newField" : "Households distributed",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Population covered count"],
        "newField" : "Population covered",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Bednets distributed count"],
        "newField" : "Bednets distributed",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Rejected delivery count"],
        "newField" : "Non Delivery HH Rejected",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Relocated delivery count"],
        "newField" : "Non Delivery HH Relocated",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "AdditiveComputedField",
        "fields" : ["Household Closed delivery count"],
        "newField" : "Non Delivery HH Closed",
        "_comments": ""
      }
    ],
    "insight": {
    },
    "_comment": " "
  }
}
